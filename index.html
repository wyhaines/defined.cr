<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Crystal Docs 0.36.1">
<meta name="crystal_docs.project_version" content="0.1.1">
<meta name="crystal_docs.project_name" content="defined">



<link href="css/style.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="js/doc.js"></script>

  <meta name="repository-name" content="defined">
  <title>defined 0.1.1</title>
  <script type="text/javascript">
  CrystalDocs.base_path = "";
  </script>
</head>
<body>

<svg class="hidden">
  <symbol id="octicon-link" viewBox="0 0 16 16">
    <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
  </symbol>
</svg>
<div class="sidebar">
  <div class="sidebar-header">
    <div class="search-box">
      <input type="search" class="search-input" placeholder="Search..." spellcheck="false" aria-label="Search">
    </div>

    <div class="project-summary">
      <h1 class="project-name">
        <a href="index.html">
          defined
        </a>
      </h1>

      <span class="project-version">
        0.1.1
      </span>
    </div>
  </div>

  <div class="search-results hidden">
    <ul class="search-list"></ul>
  </div>

  <div class="types-list">
    <ul>
  
  <li class=" " data-id="defined/toplevel" data-name="top level namespace">
      <a href="toplevel.html">Top Level Namespace</a>
      
    </li>
  
  <li class=" " data-id="defined/Defined" data-name="defined">
      <a href="Defined.html">Defined</a>
      
    </li>
  
</ul>

  </div>
</div>


<div class="main-content">
<h1><a id="defined" class="anchor" href="#defined">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>defined</h1>

<p><img src="https://img.shields.io/github/workflow/status/wyhaines/defined.cr/defined.cr%20CI?style=for-the-badge&logo=GitHub" alt="Defined.cr CI"/>
<a href="https://github.com/wyhaines/defined.cr/releases"><img src="https://img.shields.io/github/release/wyhaines/defined.cr.svg?style=for-the-badge" alt="GitHub release"/></a>
<img src="https://img.shields.io/github/commits-since/wyhaines/defined.cr/latest?style=for-the-badge" alt="GitHub commits since latest release (by SemVer)"/></p>

<p>This is a very small shard that provides a single macro, <em>defined?()</em>, which returns <em>VALUE</em>/<em>false</em> depending on whether the argument provided points to an existing constant. All lookups start at the top level and descend from there.</p>

<h2><a id="installation" class="anchor" href="#installation">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Installation</h2>

<ol><li>Add the dependency to your <code>shard.yml</code>:</li></ol>

<p><code></code>`yaml
   dependencies:</p>

<pre><code class="language-crystal"> defined:
   github: wyhaines/defined.cr</code></pre>

<p><code></code>`</p>

<ol><li>Run <code>shards install</code></li></ol>

<h2><a id="usage" class="anchor" href="#usage">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Usage</h2>

<pre><code class="language-crystal"><span class="k">require</span> <span class="s">&quot;defined&quot;</span></code></pre>

<pre><code class="language-crystal"><span class="k">if</span> defined?(<span class="s">&quot;OptionalFeature&quot;</span>)
  <span class="c"># The OptionalFeature library has been included into the code, so use it.</span>
<span class="k">else</span>
  <span class="c"># It&#39;s not there.</span>
<span class="k">end</span>

stuff <span class="o">=</span> defined?(<span class="s">&quot;My::Stuff::Library&quot;</span>) || <span class="t">Array</span>(<span class="t">String</span>)</code></pre>

<p>Crystal does not permit dynamic creation of classes, and it has compile time checks which happen before macros are evaluated to catch these cases and error on them. So, if one wants to dynamically create classes, it requires a bit of a workaround:</p>

<pre><code class="language-crystal"><span class="k">require</span> <span class="s">&quot;defined&quot;</span>

<span class="k">class</span> <span class="t">One</span>; <span class="k">end</span>

if_defined?(<span class="s">&quot;One&quot;</span>, <span class="s">&lt;&lt;-ECODE</span>)
<span class="s">  class Two
    def call
      &quot;I am class Two, but I can only exist of class one is defined.&quot;
    end
  end
ECODE</span>

puts <span class="t">Two</span>.<span class="k">new</span>.call</code></pre>

<p>One use case might be, in a library, to provide packaged functionality if a given library was not required elsewhere in the code:</p>

<pre><code class="language-crystal">unless_defined?(<span class="s">&quot;PerfectShard&quot;</span>, <span class="s">&lt;&lt;-END</span>)
<span class="s">  require &quot;project/imperfect_shard&quot;
END</span></code></pre>

<h2><a id="contributing" class="anchor" href="#contributing">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Contributing</h2>

<ol><li>Fork it (&lt;https://github.com/wyhaines/defined/fork>)</li><li>Create your feature branch (<code>git checkout -b my-new-feature</code>)</li><li>Commit your changes (<code>git commit -am 'Add some feature'</code>)</li><li>Push to the branch (<code>git push origin my-new-feature</code>)</li><li>Create a new Pull Request</li></ol>

<h2><a id="contributors" class="anchor" href="#contributors">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Contributors</h2>

<ul><li><a href="https://github.com/wyhaines">Kirk Haines</a> - creator and maintainer</li></ul>

<p><img src="https://img.shields.io/github/languages/code-size/wyhaines/defined.cr?style=for-the-badge" alt="GitHub code size in bytes"/>
<img src="https://img.shields.io/github/issues/wyhaines/defined.cr?style=for-the-badge" alt="GitHub issues"/></p>
</div>
</body>
</html>
